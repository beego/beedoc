---
name: Session control
sort: 5
---

# Session control

Beego has a built-in session module. It supports memory, file, mysql, redis as the save provider. You can also implement your own provider according the interface.

It very easy to use the session provider in Beego, just switch session on in main function:

	beego.SessionOn = true

Or you can switch it on in configuration file:

	sessionon = true

After switching on the session, you can use it like this:

```go
func (this *MainController) Get() {
	v := this.GetSession("asta")
	if v == nil {
		this.SetSession("asta", int(1))
		this.Data["num"] = 0
	} else {
		this.SetSession("asta", v.(int)+1)
		this.Data["num"] = v.(int)
	}
	this.TplNames = "index.tpl"
}
```

There are some userful methods to handl session:

- SetSession(name string, value interface{})
- GetSession(name string) interface{}
- DelSession(name string)
- SessionRegenerateID()
- DestroySession()

The most used operations are get session, set session, and delete session.

You can also use your own logic:

	sess:=this.StartSession()
	defer sess.SessionRelease()

sess object has methods below:

* sess.Set()
* sess.Get()
* sess.Delete()
* sess.SessionID()
* sess.Flush()

But I recommand you to use SetSession, GetSession and DelSession to prevent forgetting release resource by yourself.

Here is some parameters used in Session module:

- SessionOn

  Enable Session or not, false by default. Parameter name in configuration file: sessionon

- SessionProvider
  Set Session provider, memory by default. It also support file, mysql and redis. Parameter name in configuration file: sessionprovider

- SessionName
  Set the cookie name. Session is stored in browser's cookies by default. The default name is beegosessionID. Parameter name in configuration file: sessionname.

- SessionGCMaxLifetime
  Set the Session expire time, 3600s by default. Parameter name in configuration file: sessiongcmaxlifetime.

- SessionSavePath
  This is the save path or connection string for file, mysql or redis, empty by default. Parameter name in configuration file: sessionsavepath.
	
- SessionHashFunc
  Default value is sha1 which means sessionid is generated by sha1.
	
- SessionHashKey
  Default key is beegoserversessionkey. We recommand you change this value.
	
- SessionCookieLifeTime
  The cookie expire time. The cookie is used to store data in client.

When SessionProvider is file, SessionSavePath is the save path of session files. For example:

	beego.SessionProvider = "file"
	beego.SessionSavePath = "./tmp"

When SessionProvider is mysql, SessionSavePath is connection address which is using [go-sql-driver](https://github.com/go-sql-driver/mysql). For example:

	beego.SessionProvider = "mysql"
	beego.SessionSavePath = "username:password@protocol(address)/dbname?param=value"

When SessionProvider is redis, SessionSavePath is connection address for redis which is using [redigo](https://github.com/garyburd/redigo). For example:

	beego.SessionProvider = "redis"
	beego.SessionSavePath = "127.0.0.1:6379"
